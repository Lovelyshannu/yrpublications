<%- include('partials/header', { title: 'Upload Article', active: 'upload' }) %>

<section class="upload-section">
  <div class="upload-card">
    <% if (user && !user.isAdmin) { %>
      <h1>Upload New Article</h1>
      <form method="POST" action="/articles/upload" enctype="multipart/form-data" class="upload-form">
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required />

        <label for="author">Author:</label>
        <input type="text" name="author" id="author" required />

        <label for="description">Description:</label>
        <textarea name="description" id="description" rows="4" required></textarea>

        <label for="file">Select Article File (PDF/DOCX):</label>
        <input type="file" name="articleFile" id="articleFile" accept=".pdf,.doc,.docx" required />

        <button type="submit" class="upload-btn">Upload Article</button>
      </form>
    <% } else if (!user) { %>
      <p>Please <a href="/login">login</a> to upload articles.</p>
    <% } else { %>
      <p>Admins cannot upload articles.</p>
    <% } %>
  </div>
</section>

<%- include('partials/footer') %>
